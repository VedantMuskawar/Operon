# Call Overlay Debug - Quick Reference Card\n\n## ðŸŽ¯ What Was Added\n\n### Files Modified (3)\n1. **call_overlay_bloc.dart** - 24 log statements\n2. **caller_overlay_bootstrap.dart** - 12 log statements\n3. **caller_overlay_service.dart** - 53 log statements\n\n### Files Created (3)\n1. **CALL_OVERLAY_DEBUG_GUIDE.md** - Complete debugging ref\n2. **CALL_OVERLAY_DEBUG_IMPLEMENTATION.md** - Summary\n3. **CALL_OVERLAY_DEBUG_READY.md** - Status/Next steps\n\n## ðŸ“Š Log Tags\n\n```\nðŸ·ï¸ CallOverlayBloc        â†’ BLoC state & data operations\nðŸ·ï¸ CallerOverlay.Bootstrap â†’ App initialization & lifecycle  \nðŸ·ï¸ CallerOverlay          â†’ Service operations & permissions\n```\n\n## âš¡ Quick Filter Commands\n\n```bash\n# All Call Overlay logs\nadb logcat | grep \"CallerOverlay\"\n\n# Only BLoC logs\nadb logcat | grep \"CallOverlayBloc\"\n\n# Only errors\nadb logcat | grep -E \"âŒ|Error\"\n\n# With timestamps\nadb logcat -v threadtime | grep \"CallerOverlay\"\n```\n\n## ðŸ“± Android Studio Logcat\n\n1. View â†’ Tool Windows â†’ Logcat\n2. Filter: `CallerOverlay`\n3. Trigger incoming call\n4. Read emoji-prefixed logs\n\n## ðŸ” Key Logs to Watch\n\n```\nðŸ“ž PhoneNumberReceived event       â†’ Call arrived\nâœ… Client found                     â†’ Customer identified\nâŒ Client not found                 â†’ Unknown caller\nâŒ Overlay permission not granted   â†’ Permission issue\nâœ… Overlay displayed successfully   â†’ UI shown\n```\n\n## ðŸš¨ Common Issues\n\n| Problem | Log to Check | Solution |\n|---------|--------------|----------|\n| No overlay | `Overlay permission: false` | Enable in settings |\n| Wrong name | `Client not found` | Check phone number |\n| Slow | Time between `ðŸ”„` and `âœ…` | Check network |\n| No data | `Error fetching client` | Check Firestore |\n\n## ðŸ“š Documentation\n\nRead for more details:\n- **CALL_OVERLAY_DEBUG_GUIDE.md** (70+ sections)\n- **CALL_OVERLAY_DEBUG_IMPLEMENTATION.md** (Features & examples)\n\n## âœ¨ Emoji Indicators\n\n- ðŸš€ Start\n- âœ… Success  \n- âŒ Error\n- ðŸ”„ Loading\n- ðŸ“ž Phone\n- ðŸ“‹ Config\n- ðŸ” Search\n- ðŸ“¡ Data transfer\n- ðŸŽ¬ Action\n- âš ï¸ Warning\n\n## ðŸŽ¯ Test Workflow\n\n1. Open Logcat with `CallerOverlay` filter\n2. Trigger incoming call\n3. Expect log sequence:\n   ```\n   ðŸ“ž PhoneNumberReceived\n   ðŸ” Fetching client  \n   âœ… Client found OR âŒ Not found\n   ðŸ”„ Loading details\n   âœ… Overlay displayed\n   ```\n\n## ðŸ’¾ Save Logs for Analysis\n\n```bash\n# Start recording\nadb logcat > call_overlay_$(date +%Y%m%d_%H%M%S).log &\n\n# Do your testing...\n\n# Stop with Ctrl+C\n```\n\n## ðŸ”— Related Files\n\n- `lib/overlay_entry.dart` - Overlay app entry\n- `lib/presentation/blocs/call_overlay/call_overlay_bloc.dart` - State\n- `lib/data/services/caller_overlay_service.dart` - Service\n- `lib/presentation/widgets/caller_overlay_bootstrap.dart` - Bootstrap\n\n---\n\n**All logs use emoji prefixes for quick visual scanning.**\n**Use tag filters in Logcat or `grep` to isolate specific areas.**\n